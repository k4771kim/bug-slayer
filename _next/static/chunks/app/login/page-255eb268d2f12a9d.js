(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{762:(e,t,r)=>{"use strict";e.exports=r(8676)},2679:(e,t,r)=>{Promise.resolve().then(r.bind(r,5121))},3651:(e,t,r)=>{"use strict";var n=r(8523),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,a=n.useEffect,u=n.useLayoutEffect,i=n.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!s(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),s=n[0].inst,c=n[1];return u(function(){s.value=r,s.getSnapshot=t,l(s)&&c({inst:s})},[e,r,t]),a(function(){return l(s)&&c({inst:s}),e(function(){l(s)&&c({inst:s})})},[e]),i(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},4620:(e,t,r)=>{"use strict";e.exports=r(3651)},5121:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(9867),s=r(8523),o=r(7604),a=r(4163),u=r.n(a),i=r(6743);function l(){let e=(0,o.useRouter)(),{login:t,isLoading:r,error:a}=(0,i.n)(),[l,c]=(0,s.useState)(""),[d,f]=(0,s.useState)(""),g=async r=>{r.preventDefault(),await t(l,d)&&e.push("/game")};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,n.jsxs)("div",{className:"max-w-md w-full space-y-8 p-8 bg-gray-800 rounded-lg shadow-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-center text-3xl font-bold text-white",children:"Bug Slayer"}),(0,n.jsx)("p",{className:"mt-2 text-center text-sm text-gray-400",children:"Sign in to continue your journey"})]}),(0,n.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:g,children:[a&&(0,n.jsx)("div",{className:"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded",children:a}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email"}),(0,n.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:e=>c(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),(0,n.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:d,onChange:e=>f(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password"})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",disabled:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Signing in...":"Sign in"})}),(0,n.jsxs)("div",{className:"text-center text-sm",children:[(0,n.jsx)("span",{className:"text-gray-400",children:"Don't have an account? "}),(0,n.jsx)(u(),{href:"/register",className:"text-blue-400 hover:text-blue-300",children:"Sign up"})]})]})]})})}},6743:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});var n=r(7961);class s{setToken(e){this.token=e,e?localStorage.setItem("auth_token",e):localStorage.removeItem("auth_token")}getToken(){return this.token}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={"Content-Type":"application/json"};t.headers&&Object.assign(r,t.headers),this.token&&(r.Authorization="Bearer ".concat(this.token));try{let n=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:r}),s=await n.json();if(!n.ok)return{error:s.error||{code:"UNKNOWN_ERROR",message:"An unknown error occurred"}};return{data:s}}catch(e){return{error:{code:"NETWORK_ERROR",message:e instanceof Error?e.message:"Network error"}}}}async get(e){return this.request(e,{method:"GET"})}async post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}constructor(e){this.token=null,this.baseUrl=e,this.token=localStorage.getItem("auth_token")}}let o=new s("http://100.91.39.21:3001"),a=(0,n.vt)(e=>({user:null,isLoading:!1,error:null,login:async(t,r)=>{e({isLoading:!0,error:null});let n=await o.post("/api/auth/login",{email:t,password:r});return n.error?(e({isLoading:!1,error:n.error.message}),!1):!!n.data&&(o.setToken(n.data.token),e({user:n.data.user,isLoading:!1,error:null}),!0)},register:async(t,r,n)=>{e({isLoading:!0,error:null});let s=await o.post("/api/auth/register",{email:t,password:r,displayName:n});return s.error?(e({isLoading:!1,error:s.error.message}),!1):!!s.data&&(o.setToken(s.data.token),e({user:s.data.user,isLoading:!1,error:null}),!0)},logout:()=>{o.setToken(null),e({user:null,error:null})},checkAuth:async()=>{if(!o.getToken())return void e({user:null});e({isLoading:!0});let t=await o.get("/api/auth/me");if(t.error){o.setToken(null),e({user:null,isLoading:!1});return}t.data&&e({user:t.data.user,isLoading:!1})}}))},7604:(e,t,r)=>{"use strict";var n=r(8980);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},7961:(e,t,r)=>{"use strict";r.d(t,{vt:()=>c});let n=e=>{let t,r=new Set,n=(e,n)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=n?n:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,o={setState:n,getState:s,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},a=t=e(n,s,o);return o};var s=r(8523),o=r(762);let{useDebugValue:a}=s,{useSyncExternalStoreWithSelector:u}=o,i=!1,l=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?(e=>e?n(e):n)(e):e,r=(e,r)=>(function(e,t=e=>e,r){r&&!i&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),i=!0);let n=u(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return a(n),n})(t,e,r);return Object.assign(r,t),r},c=e=>e?l(e):l},8676:(e,t,r)=>{"use strict";var n=r(8523),s=r(4620),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=s.useSyncExternalStore,u=n.useRef,i=n.useEffect,l=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var d=u(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var g=a(e,(d=l(function(){function e(e){if(!i){if(i=!0,a=e,e=n(e),void 0!==s&&f.hasValue){var t=f.value;if(s(t,e))return u=t}return u=e}if(t=u,o(a,e))return t;var r=n(e);return void 0!==s&&s(t,r)?(a=e,t):(a=e,u=r)}var a,u,i=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,n,s]))[0],d[1]);return i(function(){f.hasValue=!0,f.value=g},[g]),c(g),g}}},e=>{e.O(0,[163,587,851,358],()=>e(e.s=2679)),_N_E=e.O()}]);