(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{762:(e,t,r)=>{"use strict";e.exports=r(8676)},3651:(e,t,r)=>{"use strict";var s=r(8523),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=s.useState,o=s.useEffect,u=s.useLayoutEffect,i=s.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=a({inst:{value:r,getSnapshot:t}}),n=s[0].inst,c=s[1];return u(function(){n.value=r,n.getSnapshot=t,l(n)&&c({inst:n})},[e,r,t]),o(function(){return l(n)&&c({inst:n}),e(function(){l(n)&&c({inst:n})})},[e]),i(r),r};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:c},4620:(e,t,r)=>{"use strict";e.exports=r(3651)},6743:(e,t,r)=>{"use strict";r.d(t,{n:()=>o});var s=r(7961);class n{setToken(e){this.token=e,e?localStorage.setItem("auth_token",e):localStorage.removeItem("auth_token")}getToken(){return this.token}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={"Content-Type":"application/json"};t.headers&&Object.assign(r,t.headers),this.token&&(r.Authorization="Bearer ".concat(this.token));try{let s=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:r}),n=await s.json();if(!s.ok)return{error:n.error||{code:"UNKNOWN_ERROR",message:"An unknown error occurred"}};return{data:n}}catch(e){return{error:{code:"NETWORK_ERROR",message:e instanceof Error?e.message:"Network error"}}}}async get(e){return this.request(e,{method:"GET"})}async post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}constructor(e){this.token=null,this.baseUrl=e,this.token=localStorage.getItem("auth_token")}}let a=new n("http://100.91.39.21:3001"),o=(0,s.vt)(e=>({user:null,isLoading:!1,error:null,login:async(t,r)=>{e({isLoading:!0,error:null});let s=await a.post("/api/auth/login",{email:t,password:r});return s.error?(e({isLoading:!1,error:s.error.message}),!1):!!s.data&&(a.setToken(s.data.token),e({user:s.data.user,isLoading:!1,error:null}),!0)},register:async(t,r,s)=>{e({isLoading:!0,error:null});let n=await a.post("/api/auth/register",{email:t,password:r,displayName:s});return n.error?(e({isLoading:!1,error:n.error.message}),!1):!!n.data&&(a.setToken(n.data.token),e({user:n.data.user,isLoading:!1,error:null}),!0)},logout:()=>{a.setToken(null),e({user:null,error:null})},checkAuth:async()=>{if(!a.getToken())return void e({user:null});e({isLoading:!0});let t=await a.get("/api/auth/me");if(t.error){a.setToken(null),e({user:null,isLoading:!1});return}t.data&&e({user:t.data.user,isLoading:!1})}}))},7604:(e,t,r)=>{"use strict";var s=r(8980);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},7961:(e,t,r)=>{"use strict";r.d(t,{vt:()=>c});let s=e=>{let t,r=new Set,s=(e,s)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=s?s:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,a={setState:s,getState:n,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},o=t=e(s,n,a);return a};var n=r(8523),a=r(762);let{useDebugValue:o}=n,{useSyncExternalStoreWithSelector:u}=a,i=!1,l=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?(e=>e?s(e):s)(e):e,r=(e,r)=>(function(e,t=e=>e,r){r&&!i&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),i=!0);let s=u(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return o(s),s})(t,e,r);return Object.assign(r,t),r},c=e=>e?l(e):l},7973:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(9867),n=r(8523),a=r(7604),o=r(4163),u=r.n(o),i=r(6743);function l(){let e=(0,a.useRouter)(),{register:t,isLoading:r,error:o}=(0,i.n)(),[l,c]=(0,n.useState)(""),[d,m]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[g,p]=(0,n.useState)(""),[b,y]=(0,n.useState)(""),v=async r=>(r.preventDefault(),y(""),d.length<8)?void y("Password must be at least 8 characters"):d!==g?void y("Passwords do not match"):h.length<2?void y("Display name must be at least 2 characters"):void(await t(l,d,h)&&e.push("/game"));return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8 p-8 bg-gray-800 rounded-lg shadow-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-center text-3xl font-bold text-white",children:"Bug Slayer"}),(0,s.jsx)("p",{className:"mt-2 text-center text-sm text-gray-400",children:"Create your account"})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:v,children:[(o||b)&&(0,s.jsx)("div",{className:"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded",children:o||b}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-300",children:"Display Name"}),(0,s.jsx)("input",{id:"displayName",name:"displayName",type:"text",required:!0,value:h,onChange:e=>f(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your display name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email"}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:e=>c(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),(0,s.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:d,onChange:e=>m(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password (min 8 characters)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300",children:"Confirm Password"}),(0,s.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:g,onChange:e=>p(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password"})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Creating account...":"Sign up"})}),(0,s.jsxs)("div",{className:"text-center text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Already have an account? "}),(0,s.jsx)(u(),{href:"/login",className:"text-blue-400 hover:text-blue-300",children:"Sign in"})]})]})]})})}},8491:(e,t,r)=>{Promise.resolve().then(r.bind(r,7973))},8676:(e,t,r)=>{"use strict";var s=r(8523),n=r(4620),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useSyncExternalStore,u=s.useRef,i=s.useEffect,l=s.useMemo,c=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,s,n){var d=u(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;var h=o(e,(d=l(function(){function e(e){if(!i){if(i=!0,o=e,e=s(e),void 0!==n&&m.hasValue){var t=m.value;if(n(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var r=s(e);return void 0!==n&&n(t,r)?(o=e,t):(o=e,u=r)}var o,u,i=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,s,n]))[0],d[1]);return i(function(){m.hasValue=!0,m.value=h},[h]),c(h),h}}},e=>{e.O(0,[163,587,851,358],()=>e(e.s=8491)),_N_E=e.O()}]);